<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Treatment Protocols · OptimShortestPaths.jl</title><meta name="title" content="Treatment Protocols · OptimShortestPaths.jl"/><meta property="og:title" content="Treatment Protocols · OptimShortestPaths.jl"/><meta property="twitter:title" content="Treatment Protocols · OptimShortestPaths.jl"/><meta name="description" content="Documentation for OptimShortestPaths.jl."/><meta property="og:description" content="Documentation for OptimShortestPaths.jl."/><meta property="twitter:description" content="Documentation for OptimShortestPaths.jl."/><meta property="og:url" content="https://danielchen26.github.io/OptimShortestPaths.jl/examples/treatment_protocol/"/><meta property="twitter:url" content="https://danielchen26.github.io/OptimShortestPaths.jl/examples/treatment_protocol/"/><link rel="canonical" href="https://danielchen26.github.io/OptimShortestPaths.jl/examples/treatment_protocol/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OptimShortestPaths.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../manual/transformation/">Problem Transformation</a></li><li><a class="tocitem" href="../../manual/multiobjective/">Multi-Objective Optimization</a></li><li><a class="tocitem" href="../../manual/domains/">Domain Applications</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../comprehensive_demo/">Comprehensive Demo</a></li><li><a class="tocitem" href="../drug_target_network/">Drug-Target Networks</a></li><li><a class="tocitem" href="../metabolic_pathway/">Metabolic Pathways</a></li><li class="is-active"><a class="tocitem" href>Treatment Protocols</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Problem-Transformation"><span>Problem Transformation</span></a></li><li><a class="tocitem" href="#Single-Objective-Optimization"><span>Single-Objective Optimization</span></a></li><li><a class="tocitem" href="#Multi-Objective-Pareto-Analysis"><span>Multi-Objective Pareto Analysis</span></a></li><li><a class="tocitem" href="#Clinical-Decision-Support"><span>Clinical Decision Support</span></a></li><li><a class="tocitem" href="#Code-Example"><span>Code Example</span></a></li><li><a class="tocitem" href="#Clinical-Decision-Support-2"><span>Clinical Decision Support</span></a></li><li><a class="tocitem" href="#Running-the-Example"><span>Running the Example</span></a></li><li><a class="tocitem" href="#Algorithm-Performance"><span>Algorithm Performance</span></a></li><li><a class="tocitem" href="#Applications"><span>Applications</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li></ul></li><li><a class="tocitem" href="../supply_chain/">Supply Chain Optimization</a></li></ul></li><li><a class="tocitem" href="../../api/">API Reference</a></li><li><a class="tocitem" href="../../benchmarks/">Benchmarks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Treatment Protocols</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Treatment Protocols</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/danielchen26/OptimShortestPaths.jl/blob/main/docs/src/examples/treatment_protocol.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Treatment-Protocol-Optimization"><a class="docs-heading-anchor" href="#Treatment-Protocol-Optimization">Treatment Protocol Optimization</a><a id="Treatment-Protocol-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Treatment-Protocol-Optimization" title="Permalink"></a></h1><p>Demonstrates OptimShortestPaths for clinical decision support and treatment sequencing.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>Treatment protocols define sequences of medical interventions to achieve remission. Optimizing these protocols requires balancing:</p><ul><li><strong>Cost</strong>: Treatment expenses</li><li><strong>Time</strong>: Duration to remission</li><li><strong>Efficacy</strong>: Success probability</li><li><strong>Quality of Life</strong>: Patient well-being during treatment</li></ul><p>OptimShortestPaths models treatment decisions as paths through a state-space graph where vertices represent health states and edges represent treatment actions.</p><hr/><h2 id="Problem-Transformation"><a class="docs-heading-anchor" href="#Problem-Transformation">Problem Transformation</a><a id="Problem-Transformation-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-Transformation" title="Permalink"></a></h2><h3 id="From-Clinical-Decisions-to-Graph"><a class="docs-heading-anchor" href="#From-Clinical-Decisions-to-Graph">From Clinical Decisions to Graph</a><a id="From-Clinical-Decisions-to-Graph-1"></a><a class="docs-heading-anchor-permalink" href="#From-Clinical-Decisions-to-Graph" title="Permalink"></a></h3><p><strong>Treatment States</strong>:</p><pre><code class="nohighlight hljs">Initial → Screening → ChemoA → ChemoB → Surgery → Radiation → Remission</code></pre><p><strong>Graph Representation</strong>:</p><ul><li><strong>Vertices</strong>: Patient health states</li><li><strong>Edges</strong>: Valid treatment transitions</li><li><strong>Weights</strong>: Combined cost-risk-time metric</li></ul><h3 id="Creating-a-Protocol"><a class="docs-heading-anchor" href="#Creating-a-Protocol">Creating a Protocol</a><a id="Creating-a-Protocol-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Protocol" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OptimShortestPaths

# Define treatment options
treatments = [&quot;Initial&quot;, &quot;Screening&quot;, &quot;ChemoA&quot;, &quot;ChemoB&quot;, &quot;Surgery&quot;, &quot;Radiation&quot;, &quot;Remission&quot;]

# Costs in thousands of dollars
costs = [0.0, 5.0, 50.0, 60.0, 100.0, 40.0, 0.0]

# Efficacy (success probability)
efficacy = [0.0, 0.0, 0.6, 0.7, 0.8, 0.5, 1.0]

# Valid transitions with additional risk
transitions = [
    (&quot;Initial&quot;, &quot;Screening&quot;, 0.0),
    (&quot;Screening&quot;, &quot;ChemoA&quot;, 0.1),
    (&quot;Screening&quot;, &quot;Surgery&quot;, 0.3),
    (&quot;ChemoA&quot;, &quot;ChemoB&quot;, 0.05),
    (&quot;ChemoA&quot;, &quot;Surgery&quot;, 0.2),
    (&quot;ChemoB&quot;, &quot;Radiation&quot;, 0.15),
    (&quot;Surgery&quot;, &quot;Radiation&quot;, 0.1),
    (&quot;Radiation&quot;, &quot;Remission&quot;, 0.05),
]

protocol = create_treatment_protocol(treatments, costs, efficacy, transitions)</code></pre><hr/><h2 id="Single-Objective-Optimization"><a class="docs-heading-anchor" href="#Single-Objective-Optimization">Single-Objective Optimization</a><a id="Single-Objective-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Single-Objective-Optimization" title="Permalink"></a></h2><h3 id="Figure-1:-Treatment-Cost-vs-Efficacy"><a class="docs-heading-anchor" href="#Figure-1:-Treatment-Cost-vs-Efficacy">Figure 1: Treatment Cost vs Efficacy</a><a id="Figure-1:-Treatment-Cost-vs-Efficacy-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-1:-Treatment-Cost-vs-Efficacy" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_cost_efficacy.png" alt="Treatment Cost Efficacy"/></p><p><strong>Interpretation</strong>:</p><ul><li>Major surgery: Highest single-treatment cost (<span>$</span>35k) with 90% efficacy</li><li>Targeted therapy: Most expensive option (<span>$</span>45k) with 80% efficacy</li><li>Screening/Biopsy: Low cost (<span>$</span>5k), high diagnostic value</li><li>Clear trade-off between cost and treatment success visible</li><li>No single treatment dominates - multi-modal approaches often necessary</li></ul><h3 id="Figure-2:-Treatment-Pathway-Network"><a class="docs-heading-anchor" href="#Figure-2:-Treatment-Pathway-Network">Figure 2: Treatment Pathway Network</a><a id="Figure-2:-Treatment-Pathway-Network-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-2:-Treatment-Pathway-Network" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_network.png" alt="Treatment Network"/></p><p><strong>Key Insights</strong>:</p><ul><li>Adjacency matrix shows valid treatment transitions in clinical practice</li><li>Multiple pathways from diagnosis to outcome (no single &quot;optimal&quot; route for all patients)</li><li>Central decision point at staging (influences all downstream choices)</li><li>Parallel treatment options available at key junctures</li><li>Dense connectivity reflects clinical flexibility in treatment sequencing</li></ul><h3 id="Figure-3:-Risk-Benefit-Analysis"><a class="docs-heading-anchor" href="#Figure-3:-Risk-Benefit-Analysis">Figure 3: Risk-Benefit Analysis</a><a id="Figure-3:-Risk-Benefit-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-3:-Risk-Benefit-Analysis" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/risk_benefit.png" alt="Risk Benefit"/></p><p><strong>Clinical Significance</strong>:</p><table><tr><th style="text-align: right">Treatment</th><th style="text-align: right">Risk</th><th style="text-align: right">Benefit</th><th style="text-align: right">Quadrant</th></tr><tr><td style="text-align: right">Targeted</td><td style="text-align: right">15</td><td style="text-align: right">80</td><td style="text-align: right">Low Risk, High Benefit ✓</td></tr><tr><td style="text-align: right">Immuno</td><td style="text-align: right">20</td><td style="text-align: right">70</td><td style="text-align: right">Low Risk, High Benefit ✓</td></tr><tr><td style="text-align: right">Radiation</td><td style="text-align: right">25</td><td style="text-align: right">85</td><td style="text-align: right">Moderate Risk, High Benefit</td></tr><tr><td style="text-align: right">Surgery</td><td style="text-align: right">30</td><td style="text-align: right">85</td><td style="text-align: right">High Risk, High Benefit</td></tr><tr><td style="text-align: right">Chemo</td><td style="text-align: right">40</td><td style="text-align: right">75</td><td style="text-align: right">High Risk, High Benefit</td></tr></table><p>Targeted and immunotherapy occupy the ideal quadrant, making them preferred first-line options when biomarker-appropriate.</p><h3 id="Minimum-Cost-to-Remission"><a class="docs-heading-anchor" href="#Minimum-Cost-to-Remission">Minimum Cost to Remission</a><a id="Minimum-Cost-to-Remission-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Cost-to-Remission" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Find lowest-cost treatment sequence
total_cost, sequence = optimize_treatment_sequence(protocol, &quot;Initial&quot;, &quot;Remission&quot;)

println(&quot;Minimum cost: \$&quot;, total_cost * 1000)
println(&quot;Treatment path: &quot;, join(sequence, &quot; → &quot;))</code></pre><p><strong>Example Result</strong>:</p><pre><code class="nohighlight hljs">Minimum cost: \$95,000
Treatment path: Initial → Screening → ChemoA → Surgery → Remission</code></pre><hr/><h2 id="Multi-Objective-Pareto-Analysis"><a class="docs-heading-anchor" href="#Multi-Objective-Pareto-Analysis">Multi-Objective Pareto Analysis</a><a id="Multi-Objective-Pareto-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Objective-Pareto-Analysis" title="Permalink"></a></h2><h3 id="Competing-Objectives"><a class="docs-heading-anchor" href="#Competing-Objectives">Competing Objectives</a><a id="Competing-Objectives-1"></a><a class="docs-heading-anchor-permalink" href="#Competing-Objectives" title="Permalink"></a></h3><p>Clinical treatment involves 4 objectives:</p><ol><li><strong>Cost</strong>: Total treatment expense</li><li><strong>Time</strong>: Months to remission</li><li><strong>Quality of Life</strong>: Patient well-being during treatment</li><li><strong>Success Rate</strong>: Probability of achieving remission</li></ol><pre><code class="language-julia hljs"># Create multi-objective treatment graph
objectives_per_edge = [
    [cost, time_months, qol_impact, risk]
    # for each treatment transition
]

graph = MultiObjectiveGraph(n_states, edges, objectives_per_edge)

# Find all Pareto-optimal treatment pathways
protocols = compute_pareto_front(graph, initial_state, remission_state)</code></pre><h3 id="Figure-4:-2D-Pareto-Front-Projections"><a class="docs-heading-anchor" href="#Figure-4:-2D-Pareto-Front-Projections">Figure 4: 2D Pareto Front Projections</a><a id="Figure-4:-2D-Pareto-Front-Projections-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-4:-2D-Pareto-Front-Projections" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_pareto_2d.png" alt="Pareto Front 2D"/></p><p><strong>Four critical trade-offs visualized</strong>:</p><ol><li><strong>Cost vs Success</strong>: More expensive treatments have higher success rates (correlation visible)</li><li><strong>Time vs QoL</strong>: Longer treatments negatively impact quality of life</li><li><strong>Cost vs QoL</strong>: Expensive treatments may preserve QoL better (targeted therapies)</li><li><strong>Speed vs Success</strong>: Faster treatments may be less effective (need time for staging, response assessment)</li></ol><p>These pairwise projections reveal the multi-dimensional constraints clinicians navigate when selecting protocols.</p><h3 id="Figure-5:-3D-Pareto-Front-Visualization"><a class="docs-heading-anchor" href="#Figure-5:-3D-Pareto-Front-Visualization">Figure 5: 3D Pareto Front Visualization</a><a id="Figure-5:-3D-Pareto-Front-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-5:-3D-Pareto-Front-Visualization" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_pareto_3d.png" alt="Pareto Front 3D"/></p><p><strong>3D Trade-off Space</strong>:</p><ul><li><strong>X-axis (Cost)</strong>: Treatment cost in thousands (<span>$</span>0-100k)</li><li><strong>Y-axis (Success)</strong>: Probability of remission (0-100%)</li><li><strong>Z-axis (QoL)</strong>: Quality of life score (0-100)</li></ul><p>Special solutions highlighted:</p><ul><li><strong>Blue Star (Balanced)</strong>: Optimizes all objectives equally - general recommendation</li><li><strong>Green Diamond (Budget)</strong>: Cost ≤<span>$</span>50k with &gt;70% success - resource-constrained setting</li><li><strong>Red Hexagon (Knee)</strong>: Optimal trade-off point - best bang for buck</li></ul><p>The Pareto surface shows the frontier of achievable treatment outcomes. No point on this surface dominates another - moving along the surface always involves trade-offs.</p><h3 id="Pareto-Optimal-Treatment-Protocols"><a class="docs-heading-anchor" href="#Pareto-Optimal-Treatment-Protocols">Pareto-Optimal Treatment Protocols</a><a id="Pareto-Optimal-Treatment-Protocols-1"></a><a class="docs-heading-anchor-permalink" href="#Pareto-Optimal-Treatment-Protocols" title="Permalink"></a></h3><table><tr><th style="text-align: right">Protocol</th><th style="text-align: right">Cost</th><th style="text-align: right">Time</th><th style="text-align: right">QoL</th><th style="text-align: right">Success</th><th style="text-align: right"><strong>Best For</strong></th></tr><tr><td style="text-align: right">Surgery + Chemo</td><td style="text-align: right"><span>$</span>62k</td><td style="text-align: right">14wk</td><td style="text-align: right">30</td><td style="text-align: right">88%</td><td style="text-align: right"><strong>Young, fit patients</strong> - Can tolerate aggressive treatment</td></tr><tr><td style="text-align: right">Surgery Only</td><td style="text-align: right"><span>$</span>37k</td><td style="text-align: right">54wk</td><td style="text-align: right">60</td><td style="text-align: right">85%</td><td style="text-align: right"><strong>Localized disease</strong> - Good prognosis with surgery alone</td></tr><tr><td style="text-align: right">Radiation + Minor Surgery</td><td style="text-align: right"><span>$</span>47k</td><td style="text-align: right">7wk</td><td style="text-align: right">55</td><td style="text-align: right">88%</td><td style="text-align: right"><strong>Moderate risk</strong> - Balance of approaches</td></tr><tr><td style="text-align: right">Targeted Therapy</td><td style="text-align: right"><span>$</span>47k</td><td style="text-align: right">60wk</td><td style="text-align: right">65</td><td style="text-align: right">80%</td><td style="text-align: right"><strong>Biomarker positive</strong> - Precision medicine</td></tr><tr><td style="text-align: right">Immunotherapy</td><td style="text-align: right"><span>$</span>42k</td><td style="text-align: right">68wk</td><td style="text-align: right">50</td><td style="text-align: right">70%</td><td style="text-align: right"><strong>Advanced disease</strong> - When standard therapy fails</td></tr><tr><td style="text-align: right">Chemo + Radiation</td><td style="text-align: right"><span>$</span>57k</td><td style="text-align: right">64wk</td><td style="text-align: right">40</td><td style="text-align: right">75%</td><td style="text-align: right"><strong>Inoperable</strong> - Non-surgical candidates</td></tr><tr><td style="text-align: right">Watch &amp; Wait</td><td style="text-align: right"><span>$</span>12k</td><td style="text-align: right">156wk</td><td style="text-align: right">75</td><td style="text-align: right">60%</td><td style="text-align: right"><strong>Low risk</strong> - Indolent disease</td></tr><tr><td style="text-align: right">Palliative</td><td style="text-align: right"><span>$</span>12k</td><td style="text-align: right">156wk</td><td style="text-align: right">75</td><td style="text-align: right">60%</td><td style="text-align: right"><strong>End-stage</strong> - Comfort care focus</td></tr></table><h3 id="Figure-6:-Treatment-Strategy-Comparison"><a class="docs-heading-anchor" href="#Figure-6:-Treatment-Strategy-Comparison">Figure 6: Treatment Strategy Comparison</a><a id="Figure-6:-Treatment-Strategy-Comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-6:-Treatment-Strategy-Comparison" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_strategies.png" alt="Treatment Strategies"/></p><p><strong>Strategy Analysis</strong>:</p><ul><li><strong>Surgery+Chemo</strong>: Highest success (88%) but poorest QoL (30) - aggressive approach</li><li><strong>Surgery Only</strong>: Good balance (85% success, 60 QoL) - standard of care for many cancers</li><li><strong>Watch &amp; Wait</strong>: Best QoL (75) but lower success (60%) - acceptable for indolent disease</li><li><strong>Targeted</strong>: Best overall balance for biomarker-positive patients (80% success, 65 QoL)</li></ul><p>The radar plot visualizes how each strategy prioritizes different objectives, enabling patient-specific selection.</p><h3 id="Patient-Specific-Selection"><a class="docs-heading-anchor" href="#Patient-Specific-Selection">Patient-Specific Selection</a><a id="Patient-Specific-Selection-1"></a><a class="docs-heading-anchor-permalink" href="#Patient-Specific-Selection" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Young patient: Prioritize success rate, tolerate cost/QoL impact
weights = [0.1, 0.1, 0.2, 0.6]  # [cost, time, qol, success]
best = weighted_sum_approach(graph, initial, remission, weights)
# → Aggressive protocol

# Elderly patient: Prioritize quality of life
weights = [0.15, 0.15, 0.6, 0.1]
best = weighted_sum_approach(graph, initial, remission, weights)
# → Conservative or Palliative protocol</code></pre><hr/><h2 id="Clinical-Decision-Support"><a class="docs-heading-anchor" href="#Clinical-Decision-Support">Clinical Decision Support</a><a id="Clinical-Decision-Support-1"></a><a class="docs-heading-anchor-permalink" href="#Clinical-Decision-Support" title="Permalink"></a></h2><h3 id="Decision-Tree-Construction"><a class="docs-heading-anchor" href="#Decision-Tree-Construction">Decision Tree Construction</a><a id="Decision-Tree-Construction-1"></a><a class="docs-heading-anchor-permalink" href="#Decision-Tree-Construction" title="Permalink"></a></h3><p>The Pareto front can be converted to clinical decision rules:</p><pre><code class="nohighlight hljs">IF (age &lt; 50 AND risk_low) THEN
    Use Aggressive Protocol
ELSE IF (age &gt;= 70 OR comorbidities) THEN
    IF (performance_status &lt; 2) THEN
        Use Palliative Protocol
    ELSE
        Use Conservative Protocol
ENDIF
ELSE
    Use Standard Protocol
ENDIF</code></pre><h3 id="Dynamic-Protocol-Adjustment"><a class="docs-heading-anchor" href="#Dynamic-Protocol-Adjustment">Dynamic Protocol Adjustment</a><a id="Dynamic-Protocol-Adjustment-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamic-Protocol-Adjustment" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Start with standard protocol
current_state = &quot;ChemoA&quot;

# Patient responds poorly → switch to alternative
if response_poor
    # Find alternative Pareto-optimal path from current state
    alternatives = compute_pareto_front(graph, current_state, remission)

    # Select less aggressive option
    safer_protocol = filter(sol -&gt; sol.objectives[3] &gt; 70.0, alternatives)  # QoL &gt; 70%
end</code></pre><hr/><h2 id="Code-Example"><a class="docs-heading-anchor" href="#Code-Example">Code Example</a><a id="Code-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Example" title="Permalink"></a></h2><p>Complete working example:</p><pre><code class="language-julia hljs">using OptimShortestPaths

# Define treatment graph
treatments = [&quot;Initial&quot;, &quot;ChemoA&quot;, &quot;ChemoB&quot;, &quot;Surgery&quot;, &quot;Radiation&quot;, &quot;Remission&quot;]
costs = [0.0, 50.0, 60.0, 100.0, 40.0, 0.0]
efficacy = [0.0, 0.6, 0.7, 0.8, 0.5, 1.0]

transitions = [
    (&quot;Initial&quot;, &quot;ChemoA&quot;, 0.1),
    (&quot;ChemoA&quot;, &quot;ChemoB&quot;, 0.05),
    (&quot;ChemoB&quot;, &quot;Radiation&quot;, 0.15),
    (&quot;Radiation&quot;, &quot;Remission&quot;, 0.05),
    (&quot;ChemoA&quot;, &quot;Surgery&quot;, 0.2),
    (&quot;Surgery&quot;, &quot;Radiation&quot;, 0.1),
]

protocol = create_treatment_protocol(treatments, costs, efficacy, transitions)

# Find optimal sequence
cost, sequence = optimize_treatment_sequence(protocol, &quot;Initial&quot;, &quot;Remission&quot;)
println(&quot;Optimal path: &quot;, join(sequence, &quot; → &quot;))</code></pre><hr/><h2 id="Clinical-Decision-Support-2"><a class="docs-heading-anchor" href="#Clinical-Decision-Support-2">Clinical Decision Support</a><a class="docs-heading-anchor-permalink" href="#Clinical-Decision-Support-2" title="Permalink"></a></h2><h3 id="Figure-7:-Patient-Profile-Analysis"><a class="docs-heading-anchor" href="#Figure-7:-Patient-Profile-Analysis">Figure 7: Patient Profile Analysis</a><a id="Figure-7:-Patient-Profile-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-7:-Patient-Profile-Analysis" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/patient_profiles.png" alt="Patient Profiles"/></p><p><strong>Personalized Recommendations</strong>:</p><table><tr><th style="text-align: right">Patient Profile</th><th style="text-align: right">Recommended Protocol</th><th style="text-align: right">Cost</th><th style="text-align: right">Success</th><th style="text-align: right">QoL</th><th style="text-align: right">Rationale</th></tr><tr><td style="text-align: right">Young, Healthy</td><td style="text-align: right">Surgery + Chemo</td><td style="text-align: right"><span>$</span>60k</td><td style="text-align: right">90%</td><td style="text-align: right">40</td><td style="text-align: right">Can tolerate aggressive treatment</td></tr><tr><td style="text-align: right">Elderly, Frail</td><td style="text-align: right">Minor Surgery Only</td><td style="text-align: right"><span>$</span>25k</td><td style="text-align: right">70%</td><td style="text-align: right">75</td><td style="text-align: right">Prioritize quality of life</td></tr><tr><td style="text-align: right">High Comorbidity</td><td style="text-align: right">Targeted Therapy</td><td style="text-align: right"><span>$</span>45k</td><td style="text-align: right">75%</td><td style="text-align: right">60</td><td style="text-align: right">Lower systemic toxicity</td></tr><tr><td style="text-align: right">Limited Resources</td><td style="text-align: right">Watch &amp; Wait → Medical</td><td style="text-align: right"><span>$</span>15k</td><td style="text-align: right">65%</td><td style="text-align: right">65</td><td style="text-align: right">Cost-effective escalation</td></tr><tr><td style="text-align: right">Quality Focus</td><td style="text-align: right">Immunotherapy</td><td style="text-align: right"><span>$</span>40k</td><td style="text-align: right">72%</td><td style="text-align: right">85</td><td style="text-align: right">Minimize side effects</td></tr></table><p>This figure shows how different patient characteristics map to optimal treatment selections from the Pareto front.</p><h3 id="Figure-8:-Clinical-Decision-Tree"><a class="docs-heading-anchor" href="#Figure-8:-Clinical-Decision-Tree">Figure 8: Clinical Decision Tree</a><a id="Figure-8:-Clinical-Decision-Tree-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-8:-Clinical-Decision-Tree" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/decision_tree.png" alt="Decision Tree"/></p><p><strong>Decision Support Framework</strong>:</p><ol><li><strong>Initial Assessment</strong>: Risk stratification based on disease stage and patient fitness</li><li><strong>High Risk Path</strong>: Aggressive multimodal therapy (surgery + chemotherapy/radiation)</li><li><strong>Low Risk Path</strong>: Conservative or single modality treatment</li><li><strong>Resource Constraints</strong>: Stepwise escalation strategy with monitoring</li></ol><p>The decision tree translates the Pareto front into actionable clinical pathways based on patient and disease characteristics.</p><hr/><h2 id="Running-the-Example"><a class="docs-heading-anchor" href="#Running-the-Example">Running the Example</a><a id="Running-the-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-Example" title="Permalink"></a></h2><pre><code class="language-bash hljs">cd examples/treatment_protocol
julia --project=. -e &quot;using Pkg; Pkg.develop(path=\&quot;../..\&quot;); Pkg.instantiate()&quot;
julia --project=. treatment_protocol.jl
julia --project=. generate_figures.jl  # Generate 9 visualization figures</code></pre><p><strong>Generates 9 figures</strong>:</p><ul><li>Treatment cost vs efficacy scatter plot</li><li>Treatment pathway network adjacency matrix</li><li>Risk-benefit analysis quadrant plot</li><li>2D Pareto front projections (4 subplots)</li><li>3D Pareto front visualization</li><li>Treatment strategy comparison radar plot</li><li>Patient profile recommendations</li><li>Clinical decision tree</li><li>Performance benchmarks</li></ul><hr/><h2 id="Algorithm-Performance"><a class="docs-heading-anchor" href="#Algorithm-Performance">Algorithm Performance</a><a id="Algorithm-Performance-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithm-Performance" title="Permalink"></a></h2><h3 id="Figure-9:-Performance-Analysis"><a class="docs-heading-anchor" href="#Figure-9:-Performance-Analysis">Figure 9: Performance Analysis</a><a id="Figure-9:-Performance-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Figure-9:-Performance-Analysis" title="Permalink"></a></h3><p><img src="../../assets/figures/treatment_protocol/treatment_performance.png" alt="Performance Analysis"/></p><p><strong>Benchmark Results</strong> (from canonical <code>benchmark_results.txt</code>):</p><table><tr><th style="text-align: right">Protocols</th><th style="text-align: right">k (rounds)</th><th style="text-align: right">DMY (ms) ±95% CI</th><th style="text-align: right">Dijkstra (ms) ±95% CI</th><th style="text-align: right"><strong>Speedup</strong></th></tr><tr><td style="text-align: right">n=200</td><td style="text-align: right">6</td><td style="text-align: right">0.081 ± 0.002</td><td style="text-align: right">0.025 ± 0.001</td><td style="text-align: right">0.31×</td></tr><tr><td style="text-align: right">n=500</td><td style="text-align: right">8</td><td style="text-align: right">0.426 ± 0.197</td><td style="text-align: right">0.167 ± 0.004</td><td style="text-align: right">0.39×</td></tr><tr><td style="text-align: right">n=1,000</td><td style="text-align: right">10</td><td style="text-align: right">1.458 ± 1.659</td><td style="text-align: right">0.641 ± 0.008</td><td style="text-align: right">0.44×</td></tr><tr><td style="text-align: right">n=2,000</td><td style="text-align: right">13</td><td style="text-align: right">1.415 ± 0.094</td><td style="text-align: right">2.510 ± 0.038</td><td style="text-align: right"><strong>1.77×</strong></td></tr><tr><td style="text-align: right"><strong>n=5,000</strong></td><td style="text-align: right"><strong>18</strong></td><td style="text-align: right"><strong>3.346 ± 0.105</strong></td><td style="text-align: right"><strong>16.028 ± 0.241</strong></td><td style="text-align: right"><strong>4.79×</strong></td></tr></table><p><strong>Key Insights</strong>:</p><ul><li><strong>Critical fix applied</strong>: k parameter corrected from k=n-1 to k=⌈n^(1/3)⌉</li><li>Crossover point: n ≈ 1,000 protocols for sparse random graphs</li><li>DMY excels on large hospital protocol libraries (national treatment guidelines)</li><li>Enables real-time clinical decision support at scale</li><li>At n=5,000: 4.79× faster than Dijkstra</li></ul><p><strong>Application to Treatment Planning</strong>:</p><ul><li>Small cancer centers (n&lt;1,000 protocols): Either algorithm works</li><li>Large hospital networks (n&gt;1,000): DMY provides significant advantage</li><li>Real-time decision support: DMY enables interactive protocol optimization</li><li>Multi-objective scenarios: Pareto computation essential for personalized medicine</li></ul><hr/><h2 id="Applications"><a class="docs-heading-anchor" href="#Applications">Applications</a><a id="Applications-1"></a><a class="docs-heading-anchor-permalink" href="#Applications" title="Permalink"></a></h2><h3 id="Personalized-Medicine"><a class="docs-heading-anchor" href="#Personalized-Medicine">Personalized Medicine</a><a id="Personalized-Medicine-1"></a><a class="docs-heading-anchor-permalink" href="#Personalized-Medicine" title="Permalink"></a></h3><p>Match treatment to patient profile using Pareto front:</p><ul><li>Young patients → Aggressive (maximize success)</li><li>Elderly patients → Conservative (maximize QoL)</li><li>Budget-constrained → Cost-optimal pathways</li></ul><h3 id="Healthcare-Economics"><a class="docs-heading-anchor" href="#Healthcare-Economics">Healthcare Economics</a><a id="Healthcare-Economics-1"></a><a class="docs-heading-anchor-permalink" href="#Healthcare-Economics" title="Permalink"></a></h3><p>Cost-effectiveness analysis:</p><ul><li>Calculate cost per quality-adjusted life year (QALY)</li><li>Identify dominated treatments (never optimal)</li><li>Optimize healthcare resource allocation</li></ul><h3 id="Clinical-Trials"><a class="docs-heading-anchor" href="#Clinical-Trials">Clinical Trials</a><a id="Clinical-Trials-1"></a><a class="docs-heading-anchor-permalink" href="#Clinical-Trials" title="Permalink"></a></h3><p>Design adaptive trials:</p><ul><li>Start with standard protocol</li><li>Switch to Pareto alternatives based on response</li><li>Personalize in real-time</li></ul><hr/><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><ul><li><a href="../../manual/transformation/">Problem Transformation</a></li><li><a href="../../manual/multiobjective/">Multi-Objective Optimization</a></li><li><a href="../../manual/domains/">Domain Applications</a></li><li><a href="https://github.com/danielchen26/OptimShortestPaths.jl/tree/main/examples/treatment_protocol">GitHub Example</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../metabolic_pathway/">« Metabolic Pathways</a><a class="docs-footer-nextpage" href="../supply_chain/">Supply Chain Optimization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 10 October 2025 16:55">Friday 10 October 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
